<!doctype html><html lang=en><head><title>// 一路向北</title><link rel="shortcut icon" href=/favicon.ico><meta charset=utf-8><meta name=generator content="Hugo 0.113.0"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="MegaAI"><meta name=description content><link rel=stylesheet href=https://willxwu.github.io/css/main.min.68e582a4d4ed824d6b7e3b5b37cae47eb3779bd631046379d0e68b38230cc3e2.css><meta name=twitter:card content="summary"><meta name=twitter:title content><meta name=twitter:description content="RabbitMQ作用 异步处理、应用解耦、流量控制
概述 1、大多应用中，可通过消息服务中间件来提升系统异步通信、扩展解耦能力
2、消息服务中两个重要概念：
消息代理（message broker）和目的地（destination） 当消息发送者发送 消息以后，将由消息代理接管，消息代理保证消息传递到指定目的地。
3、消息队列主要有两种形式的目的地
​ 3.1、队列（queue）：点对点消息通信（point-to-point）
​ 3.2、主题（topic）：发布（publish）/订阅（subscribe）消息通信
4、点对点式：
​ 4.1、消息发送者发送消息，消息代理将其放入一个队列中，消息接收者从队列中获 取消息内容，消息读取后被移出队列
​ 4.2、消息只有唯一的发送者和接受者，但并不是说只能有一个接收者
5、发布订阅式：
​ 发送者（发布者）发送消息到主题，多个接收者（订阅者）监听（订阅）这个 主题，那么就会在消息到达时同时收到消息
6、JMS（Java Message Service）JAVA消息服务：
​ 基于JVM消息代理的规范。ActiveMQ、HornetMQ是JMS实现
7、AMQP（Advanced Message Queuing Protocol）
​ 7.1、高级消息队列协议，也是一个消息代理的规范，兼容JMS
​ 7.2、RabbitMQ是AMQP的实现
8、Spring支持
​ 8.1、spring-jms提供了对JMS的支持
​	8.2、spring-rabbit提供了对AMQP的支持
​	8.3、需要ConnectionFactory的实现来连接消息代理
​	8.4、提供JmsTemplate、RabbitTemplate来发送消息
​	8.5、@JmsListener（JMS）、@RabbitListener（AMQP）注解在方法上监听消息 代理发布的消息
​ 8.6、@EnableJms、@EnableRabbit开启支持
9、Spring Boot自动配置
​ 9.1、JmsAutoConfiguration
​ 9.2、RabbitAutoConfiguration
10、市面的MQ产品
​ ActiveMQ、RabbitMQ、RocketMQ、Kafk
RabbitMQ概念 RabbitMQ是一个由erlang开发的AMQP(Advanved Message Queue Protocol)的开源实现
核心概念 Message
消息，消息是不具名的，它由消息头和消息体组成。消息体是不透明的，而消息头则由一系列的可选属性组成， 这些属性包括routing-key（路由键）、priority（相对于其他消息的优先权）、delivery-mode（指出该消息可 能需要持久性存储）等。"><meta property="og:title" content><meta property="og:description" content="RabbitMQ作用 异步处理、应用解耦、流量控制
概述 1、大多应用中，可通过消息服务中间件来提升系统异步通信、扩展解耦能力
2、消息服务中两个重要概念：
消息代理（message broker）和目的地（destination） 当消息发送者发送 消息以后，将由消息代理接管，消息代理保证消息传递到指定目的地。
3、消息队列主要有两种形式的目的地
​ 3.1、队列（queue）：点对点消息通信（point-to-point）
​ 3.2、主题（topic）：发布（publish）/订阅（subscribe）消息通信
4、点对点式：
​ 4.1、消息发送者发送消息，消息代理将其放入一个队列中，消息接收者从队列中获 取消息内容，消息读取后被移出队列
​ 4.2、消息只有唯一的发送者和接受者，但并不是说只能有一个接收者
5、发布订阅式：
​ 发送者（发布者）发送消息到主题，多个接收者（订阅者）监听（订阅）这个 主题，那么就会在消息到达时同时收到消息
6、JMS（Java Message Service）JAVA消息服务：
​ 基于JVM消息代理的规范。ActiveMQ、HornetMQ是JMS实现
7、AMQP（Advanced Message Queuing Protocol）
​ 7.1、高级消息队列协议，也是一个消息代理的规范，兼容JMS
​ 7.2、RabbitMQ是AMQP的实现
8、Spring支持
​ 8.1、spring-jms提供了对JMS的支持
​	8.2、spring-rabbit提供了对AMQP的支持
​	8.3、需要ConnectionFactory的实现来连接消息代理
​	8.4、提供JmsTemplate、RabbitTemplate来发送消息
​	8.5、@JmsListener（JMS）、@RabbitListener（AMQP）注解在方法上监听消息 代理发布的消息
​ 8.6、@EnableJms、@EnableRabbit开启支持
9、Spring Boot自动配置
​ 9.1、JmsAutoConfiguration
​ 9.2、RabbitAutoConfiguration
10、市面的MQ产品
​ ActiveMQ、RabbitMQ、RocketMQ、Kafk
RabbitMQ概念 RabbitMQ是一个由erlang开发的AMQP(Advanved Message Queue Protocol)的开源实现
核心概念 Message
消息，消息是不具名的，它由消息头和消息体组成。消息体是不透明的，而消息头则由一系列的可选属性组成， 这些属性包括routing-key（路由键）、priority（相对于其他消息的优先权）、delivery-mode（指出该消息可 能需要持久性存储）等。"><meta property="og:type" content="article"><meta property="og:url" content="https://willxwu.github.io/posts/%E5%88%9D%E8%AF%86rabbitmq/"><meta property="article:section" content="posts"></head><body><header class=app-header><a href=https://willxwu.github.io/><img class=app-header-avatar src=/avatar.jpg alt=MegaAI></a><h1>一路向北</h1><p>生活哪有那么复杂，简单甚好。@万般滋味，皆是生活。</p><div class=app-header-social><a target=_blank href=https://github.com/willxwu rel="noreferrer noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github"><title>github</title><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a><a target=_blank href=https://twitter.com/i2school rel="noreferrer noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-twitter"><title>twitter</title><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></a><a target=_blank href=https://twitter.com/willxwu rel="noreferrer noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-umbrella"><title>umbrella</title><path d="M23 12A11.05 11.05.0 001 12zm-5 7a3 3 0 01-6 0v-7"/></svg></a></div></header><main class=app-container><article class=post><header class=post-header><h1 class=post-title></h1><div class=post-meta><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar"><title>calendar</title><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>Jan 1, 0001</div><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock"><title>clock</title><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>1 min read</div></div></header><div class=post-content><h1 id=rabbitmq作用>RabbitMQ作用</h1><p><strong>异步处理、应用解耦、流量控制</strong></p><h1 id=概述>概述</h1><p>1、大多应用中，可通过消息服务中间件来提升系统异步通信、扩展解耦能力</p><p>2、消息服务中两个重要概念：</p><p><strong>消息代理（message broker）<strong>和</strong>目的地（destination）</strong> 当消息发送者发送 消息以后，将由消息代理接管，消息代理保证消息传递到指定目的地。</p><p>3、消息队列主要有两种形式的目的地</p><p>​ 3.1、<strong>队列（queue）</strong>：点对点消息通信（point-to-point）</p><p>​ 3.2、<strong>主题（topic）</strong>：发布（publish）/订阅（subscribe）消息通信</p><p>4、点对点式：</p><p>​ 4.1、消息发送者发送消息，消息代理将其放入一个队列中，消息接收者从队列中获 取消息内容，消息读取后被移出队列</p><p>​ 4.2、消息只有唯一的发送者和接受者，但并不是说只能有一个接收者</p><p>5、发布订阅式：</p><p>​ 发送者（发布者）发送消息到主题，多个接收者（订阅者）监听（订阅）这个 主题，那么就会在消息到达时同时收到消息</p><p>6、JMS（Java Message Service）JAVA消息服务：</p><p>​ 基于JVM消息代理的规范。ActiveMQ、HornetMQ是JMS实现</p><p>7、AMQP（Advanced Message Queuing Protocol）</p><p>​ 7.1、高级消息队列协议，也是一个消息代理的规范，兼容JMS</p><p>​ 7.2、RabbitMQ是AMQP的实现</p><p>8、Spring支持</p><p>​ 8.1、spring-jms提供了对JMS的支持</p><p>​ 8.2、spring-rabbit提供了对AMQP的支持</p><p>​ 8.3、需要ConnectionFactory的实现来连接消息代理</p><p>​ 8.4、提供JmsTemplate、RabbitTemplate来发送消息</p><p>​ 8.5、@JmsListener（JMS）、@RabbitListener（AMQP）注解在方法上监听消息 代理发布的消息</p><p>​ 8.6、@EnableJms、@EnableRabbit开启支持</p><p>9、Spring Boot自动配置</p><p>​ 9.1、JmsAutoConfiguration</p><p>​ 9.2、RabbitAutoConfiguration</p><p>10、市面的MQ产品</p><p>​ ActiveMQ、RabbitMQ、RocketMQ、Kafk</p><h1 id=rabbitmq概念>RabbitMQ概念</h1><p>RabbitMQ是一个由erlang开发的AMQP(Advanved Message Queue Protocol)的开源实现</p><h1 id=核心概念>核心概念</h1><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202203121905172.png alt></p><p><strong>Message</strong></p><p>消息，消息是不具名的，它由消息头和消息体组成。消息体是不透明的，而消息头则由一系列的可选属性组成， 这些属性包括routing-key（路由键）、priority（相对于其他消息的优先权）、delivery-mode（指出该消息可 能需要持久性存储）等。</p><p><strong>Publisher</strong></p><p>消息的生产者，也是一个向交换器发布消息的客户端应用程序。</p><p><strong>Exchange</strong></p><p>交换器，用来接收生产者发送的消息并将这些消息路由给服务器中的队列。 Exchange有4种类型：direct(默认)，fanout, topic, 和headers，不同类型的Exchange转发消息的策略有所区别</p><p><strong>Queue</strong></p><p>消息队列，用来保存消息直到发送给消费者。它是消息的容器，也是消息的终点。一个消息可投入一个或多个队列。消息一直 在队列里面，等待消费者连接到这个队列将其取走。</p><p><strong>Binding</strong></p><p>绑定，用于消息队列和交换器之间的关联。一个绑定就是基于路由键将交换器和消息队列连接起来的路由规则，所以可以将交 换器理解成一个由绑定构成的路由表。 Exchange 和Queue的绑定可以是多对多的关系。</p><p><strong>Connection</strong></p><p>网络连接，比如一个TCP连接。</p><p><strong>Channel</strong></p><p>信道，多路复用连接中的一条独立的双向数据流通道。信道是建立在真实的TCP连接内的虚拟连接，AMQP 命令都是通过信道 发出去的，不管是发布消息、订阅队列还是接收消息，这些动作都是通过信道完成。因为对于操作系统来说建立和销毁 TCP 都 是非常昂贵的开销，所以引入了信道的概念，以复用一条 TCP 连接。</p><p><strong>Consumer</strong></p><p>消息的消费者，表示一个从消息队列中取得消息的客户端应用程序。</p><p><strong>Virtual Host</strong></p><p>虚拟主机，表示一批交换器、消息队列和相关对象。虚拟主机是共享相同的身份认证和加 密环境的独立服务器域。每个 vhost 本质上就是一个 mini 版的 RabbitMQ 服务器，拥 有自己的队列、交换器、绑定和权限机制。vhost 是 AMQP 概念的基础，必须在连接时 指定，RabbitMQ 默认的 vhost 是 /。</p><p><strong>Broker</strong></p><p>表示消息队列服务器实体</p></div><div class=post-footer></div></article></main></body></html>