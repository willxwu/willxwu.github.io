<!doctype html><html lang=en><head><title>// willxwu</title><link rel="shortcut icon" href=/favicon.ico><meta charset=utf-8><meta name=generator content="Hugo 0.115.1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="willxwu"><meta name=description content><link rel=stylesheet href=https://willxwu.github.io/css/main.min.68e582a4d4ed824d6b7e3b5b37cae47eb3779bd631046379d0e68b38230cc3e2.css><meta name=twitter:card content="summary"><meta name=twitter:title content><meta name=twitter:description content="Oracle 权限、视图、约束 一、数据库权限 1、查看用户所属角色 select * from user_role_privs; 2、查询角色权限 CONNECT：仅连接权限
select * from dba_sys_privs where grantee='CONNECT' 查看RESOURCE权限：
select * from dba_sys_privs where grantee='RESOURCE' DBA角色权限查看
select * from dba_sys_privs where grantee='DBA' 3、用户授权 例如：授予scoot拥有dba的权限
grant dba to scott; 二、视图 1、创建视图 Create view 视图名称as 查询语句 create view v_emp1 as select ename,job from emp; 2、修改视图 create or replace view 始图名称 as 新的查询数据； create or replace view vemp as select empno,ename,job from EMP t; 注意与创建视图的不同：多了一个or replace"><meta property="og:title" content><meta property="og:description" content="Oracle 权限、视图、约束 一、数据库权限 1、查看用户所属角色 select * from user_role_privs; 2、查询角色权限 CONNECT：仅连接权限
select * from dba_sys_privs where grantee='CONNECT' 查看RESOURCE权限：
select * from dba_sys_privs where grantee='RESOURCE' DBA角色权限查看
select * from dba_sys_privs where grantee='DBA' 3、用户授权 例如：授予scoot拥有dba的权限
grant dba to scott; 二、视图 1、创建视图 Create view 视图名称as 查询语句 create view v_emp1 as select ename,job from emp; 2、修改视图 create or replace view 始图名称 as 新的查询数据； create or replace view vemp as select empno,ename,job from EMP t; 注意与创建视图的不同：多了一个or replace"><meta property="og:type" content="article"><meta property="og:url" content="https://willxwu.github.io/posts/1%E5%88%9B%E5%BB%BA%E8%A7%86%E5%9B%BE/"><meta property="article:section" content="posts"></head><body><header class=app-header><a href=https://willxwu.github.io/><img class=app-header-avatar src=/avatar.jpg alt=willxwu></a><h1>willxwu</h1><p>生活哪有那么复杂，简单甚好。@万般滋味，皆是生活。</p><div class=app-header-social><a target=_blank href=https://github.com/willxwu rel="noreferrer noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github"><title>github</title><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a><a target=_blank href=https://twitter.com/i2school rel="noreferrer noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-twitter"><title>twitter</title><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></a><a target=_blank href=https://twitter.com/willxwu rel="noreferrer noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-umbrella"><title>umbrella</title><path d="M23 12A11.05 11.05.0 001 12zm-5 7a3 3 0 01-6 0v-7"/></svg></a></div></header><main class=app-container><article class=post><header class=post-header><h1 class=post-title></h1><div class=post-meta><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar"><title>calendar</title><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>Jan 1, 0001</div><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock"><title>clock</title><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>1 min read</div></div></header><div class=post-content><h1 id=oracle-权限视图约束>Oracle 权限、视图、约束</h1><h1 id=一数据库权限>一、数据库权限</h1><h2 id=1查看用户所属角色>1、查看用户所属角色</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>select</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>from</span> user_role_privs;
</span></span></code></pre></div><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212012201694.png alt=image-20221201220132624></p><h2 id=2查询角色权限>2、查询角色权限</h2><p><strong>CONNECT：仅连接权限</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>select</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>from</span> dba_sys_privs <span style=color:#66d9ef>where</span> grantee<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;CONNECT&#39;</span>
</span></span></code></pre></div><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212012209374.png alt=image-20221201220957322></p><p><strong>查看RESOURCE权限</strong>：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>select</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>from</span> dba_sys_privs <span style=color:#66d9ef>where</span> grantee<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;RESOURCE&#39;</span>
</span></span></code></pre></div><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212012203650.png alt=image-20221201220328597></p><p><strong>DBA角色权限查看</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>select</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>from</span> dba_sys_privs <span style=color:#66d9ef>where</span> grantee<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;DBA&#39;</span>
</span></span></code></pre></div><h2 id=3用户授权>3、用户授权</h2><p>例如：授予scoot拥有dba的权限</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>grant</span> dba <span style=color:#66d9ef>to</span> scott;
</span></span></code></pre></div><h1 id=二视图>二、视图</h1><h2 id=1创建视图>1、创建视图</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>Create</span> <span style=color:#66d9ef>view</span> <span style=color:#960050;background-color:#1e0010>视图名称</span><span style=color:#66d9ef>as</span> <span style=color:#960050;background-color:#1e0010>查询语句</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>create</span> <span style=color:#66d9ef>view</span> v_emp1 <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>select</span> ename,job <span style=color:#66d9ef>from</span> emp;
</span></span></code></pre></div><h2 id=2修改视图>2、修改视图</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>create</span> <span style=color:#66d9ef>or</span> <span style=color:#66d9ef>replace</span> <span style=color:#66d9ef>view</span> <span style=color:#960050;background-color:#1e0010>始图名称</span> <span style=color:#66d9ef>as</span> <span style=color:#960050;background-color:#1e0010>新的查询数据；</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>create</span> <span style=color:#66d9ef>or</span> <span style=color:#66d9ef>replace</span> <span style=color:#66d9ef>view</span> vemp <span style=color:#66d9ef>as</span> <span style=color:#66d9ef>select</span> empno,ename,job <span style=color:#66d9ef>from</span> EMP t;
</span></span></code></pre></div><p><strong>注意与创建视图的不同：多了一个or replace</strong></p><h2 id=3删除视图>3、删除视图</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>drop</span> <span style=color:#66d9ef>view</span> <span style=color:#960050;background-color:#1e0010>视图名称；</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>drop</span> <span style=color:#66d9ef>view</span> vemp2;
</span></span></code></pre></div><h2 id=4使用视图>4、使用视图</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>select</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>from</span> <span style=color:#960050;background-color:#1e0010>视图；</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>select</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>from</span> vemp;
</span></span></code></pre></div><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212012228891.png alt=image-20221201222807834></p><p>就当作是一张虚拟的表使用。</p><h2 id=5修改视图数据>5、修改视图数据</h2><p><strong>注意：修改视图数据，实际是修改实际表的数据，不是视图的数据。</strong></p><p>例如修改上面视图数据：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>update</span> vemp <span style=color:#66d9ef>set</span> ename<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;xxxx&#39;</span> <span style=color:#66d9ef>where</span> job<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;CLERK&#39;</span> <span style=color:#66d9ef>and</span> empno<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;7369&#39;</span>
</span></span></code></pre></div><p>修改后：</p><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212012232871.png alt=image-20221201223253824></p><p>最后实际修改的是，视图中查询数据表的实际数据。</p><p>上面视图实际修改的是EMP表的数据：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>select</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>from</span> EMP;
</span></span></code></pre></div><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212012234776.png alt=image-20221201223415731></p><p><strong>注意：修改视图数据时，实际是修改实际表的数据，不是视图的数据。</strong></p><h2 id=6视图添加数据>6、视图添加数据</h2><p><strong>注意：向视图数据添加数据，实际是向实际表中添加数据</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>和普通表添加数据一样，视图只是在向实际的表添加数据</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>insert</span> <span style=color:#66d9ef>into</span> vemp <span style=color:#66d9ef>values</span>(<span style=color:#e6db74>&#39;1111&#39;</span>,<span style=color:#e6db74>&#39;bbbbb&#39;</span>,<span style=color:#e6db74>&#39;teacher&#39;</span>);
</span></span></code></pre></div><p>查看添加视图数据，实际是向实际表中添加了数据。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>select</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>from</span> vemp;
</span></span></code></pre></div><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212012240933.png alt=image-20221201224019886></p><p>查看实际表中数据：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>select</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>from</span> EMP;
</span></span></code></pre></div><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212012241118.png alt=image-20221201224100073></p><h2 id=7删除视图中数据>7、删除视图中数据</h2><p><strong>和普通删除表数据一样，实际是删除的实际表中数据。</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>delete</span> <span style=color:#66d9ef>from</span> vemp <span style=color:#66d9ef>where</span> empno<span style=color:#f92672>=</span><span style=color:#ae81ff>1111</span>
</span></span></code></pre></div><p><strong>总结：对视图中数据的CRUD实际是对真实表的数据操作，实际开发中一般都会将视图设置为只读，防止误操作。</strong></p><h2 id=8只读视图>8、只读视图</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>Create</span> <span style=color:#66d9ef>view</span> <span style=color:#960050;background-color:#1e0010>视图名称</span><span style=color:#66d9ef>as</span> <span style=color:#960050;background-color:#1e0010>查询语句</span> <span style=color:#66d9ef>with</span> <span style=color:#66d9ef>read</span> <span style=color:#66d9ef>only</span>;
</span></span></code></pre></div><p>当向视图添加、删除、修改数据时，都会提示“无法对只读视图执行dml操作”。</p><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212012246375.png alt=image-20221201224640327></p><h1 id=三约束>三、约束</h1><h2 id=1主键约束primary>1、主键约束（Primary）</h2><p><strong>用来标识唯一一条记录的。</strong></p><p><strong>非空，和其它表的外键有关系，其它表的外键关联该表的主键，起到约束作用。</strong></p><p>一般用作条件查询、条件修改、条件删除等操作。</p><p><img src=C:%5CUsers%5Ci2%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20221201230029437.png alt=image-20221201230029437></p><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212012300958.png alt=image-20221201230052918></p><p>id设置为主键。</p><p>查询一条数据：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>insert</span> <span style=color:#66d9ef>into</span> t_bookType <span style=color:#66d9ef>values</span>(<span style=color:#ae81ff>1</span>,<span style=color:#e6db74>&#39;java history&#39;</span>);
</span></span></code></pre></div><p>查看数据：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>select</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>from</span> t_bookType;
</span></span></code></pre></div><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212012301348.png alt=image-20221201230154298></p><p>查看建外键sql语句：</p><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212012312310.png alt=image-20221201231246259></p><p>查看sql：</p><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212012313874.png alt=image-20221201231323785></p><p>这里就能看到建表、建主键的sql语句了：</p><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212012314108.png alt=image-20221201231410027></p><h2 id=2外键约束foreign>2、外键约束(Foreign)</h2><p><strong>起到约束作用。</strong></p><p>新建表：</p><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212012310326.png alt=image-20221201231015271></p><p>创建外键：</p><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212012310803.png alt=image-20221201231057760></p><p><strong>注意：另一张表t_bookType的主键id不能为空，否则建外键时会报错id不能为空。</strong></p><p>查看建外键sql语句和上面一样：</p><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212012316759.png alt=image-20221201231613679></p><p><strong>约束作用</strong>：</p><p>查看t_bookType数据：</p><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212012320563.png alt=image-20221201232021517></p><p>向t_book添加数据时：</p><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212012323485.png alt=image-20221201232336435></p><p>添加一条不存在的主键数据时，就会提示“违反完整约束条件”</p><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212012325323.png alt=image-20221201232551276></p><p>因此起到了，约束添加的外键只能是另一张表里面存在的主键。</p><h2 id=3唯一性约束unique>3、唯一性约束(Unique)</h2><p><strong>约束某些字段值作为唯一标识，不能重复添加相同数据。</strong></p><p><strong>添加方式</strong></p><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212012331460.png alt=image-20221201233106413></p><p>查看sql脚本同上：</p><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212012332516.png alt=image-20221201233203461></p><p>没加约束前，可以添加相同bookTypeName的记录，加了约束后会提示报错"违反唯一约束条件"</p><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212012334513.png alt=image-20221201233448457></p><h2 id=4检查约束针对所有记录上面123都是正对一条记录>4、检查约束（针对所有记录，上面1、2、3都是正对一条记录）</h2><p><strong>给某个字段添加，写入值的条件。</strong></p><p>t_book增加价格price字段：</p><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212012339215.png alt=image-20221201233919169></p><p>查询t_book:</p><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212012340325.png alt=image-20221201234012280></p><p>如果以后向每次添加数据时，检查price价格返回是否在50-100之间，就可以使用检查约束。</p><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212012342677.png alt=image-20221201234232628></p><p>添加检查约束sql：</p><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212012343933.png alt=image-20221201234305880></p><p>添加数据价格在范围内不报错，超出范围会提示报错“范围检查约束条件”</p><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212012345141.png alt=image-20221201234531086></p><h2 id=5默认值约束>5、默认值约束</h2><p><strong>其实就是添加数据时，某些字段没有设置时，给字段设置默认值。</strong></p><p>t_book增加作者性别字段：</p><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212012351642.png alt=image-20221201235100591></p><p>添加一条数据：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>insert</span> <span style=color:#66d9ef>into</span> T_BOOK(id,BOOKNAME,TYPE_ID,price) <span style=color:#66d9ef>values</span>(<span style=color:#ae81ff>3</span>,<span style=color:#e6db74>&#39;jvm并发&#39;</span>,<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>66</span>);
</span></span></code></pre></div><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212012354361.png alt=image-20221201235448310></p><p>新加数据sex性别为空，不符合实际逻辑，怎么会没有性别，因此想设置默认值。</p><p><strong>添加默认值约束</strong>：</p><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212020000641.png alt=image-20221202000008584></p><p>重新添加一条数据：此时就有默认值了。</p><p>删除上面添加没有sex性别的记录，重新加添；</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>insert</span> <span style=color:#66d9ef>into</span> T_BOOK(id,BOOKNAME,TYPE_ID,price) <span style=color:#66d9ef>values</span>(<span style=color:#ae81ff>3</span>,<span style=color:#e6db74>&#39;jvm并发&#39;</span>,<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>66</span>);
</span></span></code></pre></div><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212020002972.png alt=image-20221202000202926></p><p>现在就有值了。</p><p>添加默认值约束SQL：</p><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212020004411.png alt=image-20221202000437367></p><h2 id=6非空约束>6、非空约束</h2><p><strong>设置字段值不能为空</strong></p><p>勾选：允许为空，</p><p>不勾选：不允许为空。</p><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212020006118.png alt=image-20221202000615061></p><p>查询一条件数据，价格不添加：</p><p><img src=https://cdn.jsdelivr.net/gh/willxwu/CDN@main/images/202212020007992.png alt=image-20221202000732929></p><p>添加数据值，为添加price的值，由于设置了非空约束，不能为空，所以报错“无法将null插入”</p></div><div class=post-footer></div></article></main></body></html>