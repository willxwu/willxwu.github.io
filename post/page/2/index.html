<!doctype html><html lang=en><head><meta charset=utf-8><title>Posts
| Hello World</title><link href=//cdn.jsdelivr.net rel=dns-prefetch><link href=//cdnjs.cloudflare.com rel=dns-prefetch><link href=//at.alicdn.com rel=dns-prefetch><link href=//fonts.googleapis.com rel=dns-prefetch><link href=//fonts.gstatic.com rel=dns-prefetch><link href=///disqus.com rel=dns-prefetch><link href=//c.disquscdn.com rel=dns-prefetch><link href=//www.google-analytics.com rel=dns-prefetch><meta name=author content="Come Back"><meta name=description content="Life is not so complicated, simple is better"><meta name=twitter:card content="summary"><meta name=twitter:site content="@twitter_username"><meta name=twitter:title content="Hello World"><meta name=twitter:description content="Life is not so complicated, simple is better"><meta name=twitter:image content="/images/avatar.png"><meta property="og:type" content="website"><meta property="og:title" content="Hello World"><meta property="og:description" content="Life is not so complicated, simple is better"><meta property="og:url" content="https://willxwu.github.io/post/"><meta property="og:image" content="/images/avatar.png"><link rel=canonical href=https://willxwu.github.io/post/><link rel=alternate type=application/rss+xml href=https://willxwu.github.io/post/index.xml title="Come Back"><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=format-detection content="telephone=no,email=no,adress=no"><meta http-equiv=cache-control content="no-transform"><meta name=robots content="index,follow"><meta name=referrer content="origin-when-cross-origin"><meta name=theme-color content="#02b875"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="black"><meta name=apple-mobile-web-app-title content="Come Back"><meta name=msapplication-tooltip content="Come Back"><meta name=msapplication-navbutton-color content="#02b875"><meta name=msapplication-TileColor content="#02b875"><meta name=msapplication-TileImage content="/icons/icon-144x144.png"><link rel=icon href=https://willxwu.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://willxwu.github.io/icons/icon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://willxwu.github.io/icons/icon-32x32.png><link rel=icon sizes=192x192 href=https://willxwu.github.io/icons/icon-192x192.png><link rel=apple-touch-icon href=https://willxwu.github.io/icons/icon-152x152.png><link rel=manifest href=https://willxwu.github.io/manifest.json><link rel=preload href=https://willxwu.github.io/styles/main-rendered.min.css as=style><link rel=preload href="https://fonts.googleapis.com/css?family=Lobster" as=style><link rel=preload href=https://willxwu.github.io/images/avatar.png as=image><link rel=preload href=https://willxwu.github.io/images/grey-prism.svg as=image><style>body{background:#f4f3f1 url(/images/grey-prism.svg)repeat fixed}</style><link rel=stylesheet href=https://willxwu.github.io/styles/main-rendered.min.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lobster"><!--[if lte IE 8]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/videojs-ie8@1.1.2/dist/videojs-ie8.min.js></script><![endif]--><!--[if lte IE 9]><script src=https://cdn.jsdelivr.net/npm/eligrey-classlist-js-polyfill@1.2.20180112/classList.min.js></script><![endif]--></head><body><div class=suspension><a role=button aria-label="Go to top" title="Go to top" class="to-top is-hide"><span class="icon icon-up" aria-hidden=true></span></a></div><header class=site-header><a href=https://willxwu.github.io><img class=avatar src=https://willxwu.github.io/images/avatar.png alt=Avatar></a><h2 class=title><a href=https://willxwu.github.io>Come Back</a></h2><p class=subtitle>All kinds of taste, are life.</p><button class=menu-toggle type=button aria-label="Main Menu" aria-expanded=false tab-index=0>
<span class="icon icon-menu" aria-hidden=true></span></button><nav class="site-menu collapsed"><h2 class=offscreen>Main Menu</h2><ul class=menu-list><li class="menu-item
is-active"><a href=https://willxwu.github.io/>Home</a></li><li class=menu-item><a href=https://willxwu.github.io/archives/>archives</a></li><li class=menu-item><a href=https://willxwu.github.io/tags/>Tags</a></li><li class=menu-item><a href=https://willxwu.github.io/links/>Links</a></li><li class=menu-item><a href=https://willxwu.github.io/resume/>resume</a></li><li class=menu-item><a href=https://willxwu.github.io/about/>About</a></li></ul></nav><nav class="social-menu collapsed"><h2 class=offscreen>Social Networks</h2><ul class=social-list><li class=social-item><a href=mailto:name@domain.com title=Email aria-label=Email><span class="icon icon-email" aria-hidden=true></span></a></li><li class=social-item><a href=//github.com/github_username rel=me title=GitHub aria-label=GitHub><span class="icon icon-github" aria-hidden=true></span></a></li><li class=social-item><a href=//twitter.com/twitter_username rel=me title=Twitter aria-label=Twitter><span class="icon icon-twitter" aria-hidden=true></span></a></li><li class=social-item><a href=//weibo.com/weibo_username rel=me title=Weibo aria-label=Weibo><span class="icon icon-weibo" aria-hidden=true></span></a></li><li class=social-item><a href=https://willxwu.github.io/images/qrcode.jpg rel=me title=Wechat aria-label=Wechat><span class="icon icon-wechat" aria-hidden=true></span></a></li><li class=social-item><a href=//www.linkedin.com/in/linkedin_username rel=me title=LinkedIn aria-label=LinkedIn><span class="icon icon-linkedin" aria-hidden=true></span></a></li></ul></nav></header><section class="main post-list"><header class="list-header offscreen"><h2 class=list-label>Posts List</h2></header><article class=post-entry><header class=post-header><h3 class=post-title><a href=https://willxwu.github.io/post/java8/19_java8-jdk%E6%8F%90%E4%BE%9B%E7%9A%84future/ class=post-link>JAVA8-JDK自带Future,Callable,ExecutorService</a></h3><p class=post-meta>@Come Back · Jul 13, 2022 · 2 min read</p></header><p class=post-summary>JAVA8-JDK自带Future,Callable,ExecutorService 代码示例：
package com.example.study.java8.funture; import java.util.List; import java.util.concurrent.*; /** * 和自定义Future中block一样会卡住 */ public class FutureInAction2 { public static void main(String[] args) throws ExecutionException, InterruptedException, TimeoutException { //创建一个单线程 ExecutorService executorService = Executors.newSingleThreadExecutor(); //返回一个future，里面的操作可能还没完成，但不影响后续的操作。 Future&lt;String> future = executorService.submit(() -> { try { Thread.sleep(10000L); return "I'm finished"; } catch (InterruptedException e) { return "I'm error"; } }); //没有结果会抛出，中断异常 String value = future.get(); System.out.println(value); //关闭进程 executorService.shutdown(); //shutdownNow关闭进程，但是会返回有那些进程还没有执行完。 List&lt;Runnable> runnables = executorService.shutdownNow(); } } 输出结果：</p><footer class=post-footer><a class=read-more href=https://willxwu.github.io/post/java8/19_java8-jdk%E6%8F%90%E4%BE%9B%E7%9A%84future/>Read More →</a></footer></article><article class=post-entry><header class=post-header><h3 class=post-title><a href=https://willxwu.github.io/post/java8/18_java8-%E5%A4%9A%E7%BA%BF%E7%A8%8Bfuture%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%8E%9F%E7%90%86%E8%AF%A6%E7%BB%86%E4%BB%8B%E7%BB%8D%E5%B9%B6%E4%B8%94%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AAfuture%E7%A8%8B%E5%BA%8F/ class=post-link>JAVA8-多线程Future设计模式原理,自定义实现一个Future程序。</a></h3><p class=post-meta>@Come Back · Jul 11, 2022 · 2 min read</p></header><p class=post-summary>JAVA8-多线程Future设计模式原理,自定义实现一个Future程序。 自定义实现Future，理解设计模式原理。
Future模式实现 自定义代码示例：
package com.example.study.java8.funture; import java.util.concurrent.atomic.AtomicBoolean; import java.util.concurrent.atomic.AtomicReference; /** * 自定义模拟future，理解Future的使用。 */ public class FutureInAction { public static void main(String[] args) throws InterruptedException { Funture&lt;String> funture = invoke(() -> { try { //模拟操作计算很长时间 Thread.sleep(10000); return "I'm finished"; } catch (Exception e) { e.printStackTrace(); return "Error"; } }); //操作计算很长时间，还没操作计算完成，只返回了future，虽然此时返回值为null，但是可以接着执行官其它操作,不会阻塞后续操作。 System.out.println(funture.get()); System.out.println(funture.get()); System.out.println(funture.get()); //知道操作计算完成后，将值返回 while (!funture.isDone()) { Thread.sleep(10); } System.out.println(funture.get()); } private static &lt;T> Funture&lt;T> invoke(Callable&lt;T> callable) { AtomicReference&lt;T> result = new AtomicReference&lt;>(); AtomicBoolean finished = new AtomicBoolean(false); Thread t = new Thread(() -> { T value = callable.</p><footer class=post-footer><a class=read-more href=https://willxwu.github.io/post/java8/18_java8-%E5%A4%9A%E7%BA%BF%E7%A8%8Bfuture%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%8E%9F%E7%90%86%E8%AF%A6%E7%BB%86%E4%BB%8B%E7%BB%8D%E5%B9%B6%E4%B8%94%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AAfuture%E7%A8%8B%E5%BA%8F/>Read More →</a></footer></article><article class=post-entry><header class=post-header><h3 class=post-title><a href=https://willxwu.github.io/post/java8/17_java8-default%E6%96%B9%E6%B3%95/ class=post-link>JAVA8-default、static</a></h3><p class=post-meta>@Come Back · Jul 10, 2022 · 2 min read</p></header><p class=post-summary>JAVA8-default、static default方法 1.8之前出现的问题:开发了一个接口，后面实现该接口的实现类，都需要实现接口中定义的方法。1.8之后接口中使用default定义新增的方法后，其实现类可以不用实现该方法。
例如Collection接口中新增了对stream的操作方法：stream()
public interface Collection&lt;E> extends Iterable&lt;E> { default Stream&lt;E> stream() { return StreamSupport.stream(spliterator(), false); } } 其实现类就可以不用再实现stream()方法，这样对于版本兼容就比较好了。
static 定义的方法 可以通过接口直接调用该方法，例如：
public interface Function&lt;T, R> { static &lt;T> Function&lt;T, T> identity() { return t -> t; } } 注意：接口中有default定义的方法实现了，但并不是抽象类。
接口：可以被多个类实现。
抽象类：继承了一个抽象类，就不能再继承另一个抽象类，因为类是单继承。
实列 自己用default实现一个接口
package com.example.study.java8.method; /** * default使用 */ public class DefaultAction { public static void main(String[] args) { A a = ()->10; System.out.println(a.size()); System.out.println(a.isEmpty()); } public interface A{ int size(); //判断容器是否为空 default boolean isEmpty(){ return size()==0; } } } 输出结果：</p><footer class=post-footer><a class=read-more href=https://willxwu.github.io/post/java8/17_java8-default%E6%96%B9%E6%B3%95/>Read More →</a></footer></article><article class=post-entry><header class=post-header><h3 class=post-title><a href=https://willxwu.github.io/post/java8/16_jva8-%E8%87%AA%E5%AE%9A%E4%B9%89spliterator/ class=post-link>JVA8-自定义Spliterator</a></h3><p class=post-meta>@Come Back · Jul 9, 2022 · 11 min read</p></header><p class=post-summary>JVA8-自定义Spliterator 需求说明：将一段话按换行符分割成多个执行，并输出。
package com.example.study.java8.forkjoin; import java.util.Objects; import java.util.Spliterator; import java.util.function.Consumer; import java.util.stream.Stream; import java.util.stream.StreamSupport; /** * 自定义Spliterator * 实列：将一段话按换行符分割成多个执行，并输出。 */ public class SpliteratorInAction { //需要处理的数据 private static String text = "The tryAdvance method feeds the Consumer with the Character in the String at the current index\n" + "position and increments this position. The Consumer passed as argument is an internal Java class\n" + "forwarding the consumed Character to the set of functions that have to be applied to it while\n" + "traversing the stream, which in this case is only a reducing function, namely, the accumulate method\n" + "of the WordCounter class.</p><footer class=post-footer><a class=read-more href=https://willxwu.github.io/post/java8/16_jva8-%E8%87%AA%E5%AE%9A%E4%B9%89spliterator/>Read More →</a></footer></article><article class=post-entry><header class=post-header><h3 class=post-title><a href=https://willxwu.github.io/post/java8/15_java8-fork-join/ class=post-link>JAVA8-Fork Join</a></h3><p class=post-meta>@Come Back · Jul 8, 2022 · 2 min read</p></header><p class=post-summary>JAVA8-Fork Join Fork：将一个任务拆分成多个线程执行。 Join：将每个现场结果join，最后得到结果。
范例：求数组总和 前置数据：
public static int[] data = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10}; 1、原始实现方式 public static int calc() { int result = 0; for (int i = 0; i &lt; data.length; i++) { result += data[i]; } return result; } 原始实现方式调用：
System.out.println("result=> " + calc()); 2、RecursiveTask实现 RecursiveTask有返回值。
package com.example.study.java8.forkjoin; import lombok.AllArgsConstructor; import lombok.Data; import lombok.NoArgsConstructor; import lombok.ToString; import java.util.concurrent.RecursiveTask; @Data @AllArgsConstructor @NoArgsConstructor @ToString public class AccumulatorRecursiveTask extends RecursiveTask&lt;Integer> { private int start; private int end; private int[] data; private int LIMIT=3; public AccumulatorRecursiveTask(int start, int end, int[] data) { this.</p><footer class=post-footer><a class=read-more href=https://willxwu.github.io/post/java8/15_java8-fork-join/>Read More →</a></footer></article><article class=post-entry><header class=post-header><h3 class=post-title><a href=https://willxwu.github.io/post/java8/14_java8-stream-parallel-%E5%B9%B6%E8%A1%8C%E6%89%A7%E8%A1%8C/ class=post-link>JAVA8 Stream parallel 并行执行</a></h3><p class=post-meta>@Come Back · Jul 7, 2022 · 2 min read</p></header><p class=post-summary>Stream parallel 并行执行 范例：求1~100000000的和，执行10次，看时间效率。 代码 package com.example.study.java8.collector; import java.util.function.Function; import java.util.stream.LongStream; import java.util.stream.Stream; /** * Stream parallel并行执行 * 实列：求10次，1~100000000的和，看时间效率。 */ public class ParallelProcessing { public static void main(String[] args) { //获取电脑CPU核数 System.out.println("当前电脑CPU核数= " + Runtime.getRuntime().availableProcessors()); System.out.println("The best process time(normalAdd)=> " + measureSumPerformance(ParallelProcessing::normalAdd, 100_000_000) + " MS"); System.out.println("The best process time(iterateStream1)=> " + measureSumPerformance(ParallelProcessing::iterateStream1, 100_000_000) + " MS"); System.out.println("The best process time(iterateStream2)=> " + measureSumPerformance(ParallelProcessing::iterateStream2, 100_000_000) + " MS"); System.out.println("The best process time(iterateStream3)=> " + measureSumPerformance(ParallelProcessing::iterateStream3, 100_000_000) + " MS"); System.</p><footer class=post-footer><a class=read-more href=https://willxwu.github.io/post/java8/14_java8-stream-parallel-%E5%B9%B6%E8%A1%8C%E6%89%A7%E8%A1%8C/>Read More →</a></footer></article><article class=post-entry><header class=post-header><h3 class=post-title><a href=https://willxwu.github.io/post/java8/13_collector-interface%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/ class=post-link>JAVA8-Collector interface源码分析</a></h3><p class=post-meta>@Come Back · Jul 6, 2022 · 1 min read</p></header><p class=post-summary>Collector interface源码分析 源码 public interface Collector&lt;T, A, R> { Supplier&lt;A> supplier(); BiConsumer&lt;A, T> accumulator(); Function&lt;A, R> finisher(); BinaryOperator&lt;A> combiner(); Set&lt;Characteristics> characteristics(); } 说明： 1.T is the generic type of the items in the stream to be collected. 2.A is the type of the accumulator, the object on which the partial result will be accumulated during the collection process. 3.R is the type of the object (typically, but not always, the collection) resulting from the collect operation.</p><footer class=post-footer><a class=read-more href=https://willxwu.github.io/post/java8/13_collector-interface%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/>Read More →</a></footer></article><article class=post-entry><header class=post-header><h3 class=post-title><a href=https://willxwu.github.io/post/java8/12_java8-collectors-api-summingdoublesumminginttestsumminglongtocollectiontoconcurrentmaptolisttosettomap/ class=post-link>JAVA8-Collectors API summingDouble、summingInt、testSummingLong、toCollection、toConcurrentMap、toList、toSet、toMap</a></h3><p class=post-meta>@Come Back · Jul 5, 2022 · 2 min read</p></header><p class=post-summary>JAVA8-Collectors API:summingDouble、summingInt、testSummingLong、toCollection、toConcurrentMap、toList、toSet、toMap 前置数据
public static final List&lt;Dish> menu = Arrays.asList( new Dish("pork", false, 800, Dish.Type.MEAT), new Dish("beef", false, 700, Dish.Type.MEAT), new Dish("chicken", false, 400, Dish.Type.MEAT), new Dish("french fries", true, 530, Dish.Type.OTHER), new Dish("rice", true, 350, Dish.Type.OTHER), new Dish("season fruit", true, 120, Dish.Type.OTHER), new Dish("pizza", true, 550, Dish.Type.OTHER), new Dish("prawns", false, 300, Dish.Type.FISH), new Dish("salmon", false, 450, Dish.Type.FISH)); 范例：
1、summingDouble public static void testAveragingDouble(){ System.out.println("testAveragingDouble"); //用reduce聚合求和 Optional.ofNullable(menu.stream().map(Dish::getCalories).reduce(Integer::sum)).get().ifPresent(System.out::println); //用collectors averagingDouble求平均值 Optional.ofNullable(menu.stream().collect(averagingDouble(Dish::getCalories))).ifPresent(System.out::println); } 输出结果：</p><footer class=post-footer><a class=read-more href=https://willxwu.github.io/post/java8/12_java8-collectors-api-summingdoublesumminginttestsumminglongtocollectiontoconcurrentmaptolisttosettomap/>Read More →</a></footer></article><article class=post-entry><header class=post-header><h3 class=post-title><a href=https://willxwu.github.io/post/java8/11_java8-collectors-api-partitioningbyreducingsummarizinglongsummarizingintsummarizingdouble/ class=post-link>JAVA8-Collectors API partitioningBy、reducing、summarizingLong、summarizingInt、summarizingDouble</a></h3><p class=post-meta>@Come Back · Jul 4, 2022 · 2 min read</p></header><p class=post-summary>JAVA8-Collectors API: partitioningBy、reducing、summarizingLong、summarizingInt、summarizingDouble 前置数据：
public static final List&lt;Dish> menu = Arrays.asList( new Dish("pork", false, 800, Dish.Type.MEAT), new Dish("beef", false, 700, Dish.Type.MEAT), new Dish("chicken", false, 400, Dish.Type.MEAT), new Dish("french fries", true, 530, Dish.Type.OTHER), new Dish("rice", true, 350, Dish.Type.OTHER), new Dish("season fruit", true, 120, Dish.Type.OTHER), new Dish("pizza", true, 550, Dish.Type.OTHER), new Dish("prawns", false, 300, Dish.Type.FISH), new Dish("salmon", false, 450, Dish.Type.FISH)); 范例：
1、partitioningBy 分组 public static void testPartitioningByWithPredicate() { System.out.println("testPartitioningByWithPredicate"); Map&lt;Boolean, List&lt;Dish>> collect = menu.</p><footer class=post-footer><a class=read-more href=https://willxwu.github.io/post/java8/11_java8-collectors-api-partitioningbyreducingsummarizinglongsummarizingintsummarizingdouble/>Read More →</a></footer></article><article class=post-entry><header class=post-header><h3 class=post-title><a href=https://willxwu.github.io/post/java8/10_java8-collectors-api-averagingcollectingandthencountinggroupingby/ class=post-link>JAVA8-Collectors API averaging、collectingAndThen、counting、groupingBy</a></h3><p class=post-meta>@Come Back · Jul 3, 2022 · 2 min read</p></header><p class=post-summary>JAVA8-Collectors API:averaging、collectingAndThen、counting、groupingBy 前置数据
public static final List&lt;Dish> menu = Arrays.asList( new Dish("pork", false, 800, Dish.Type.MEAT), new Dish("beef", false, 700, Dish.Type.MEAT), new Dish("chicken", false, 400, Dish.Type.MEAT), new Dish("french fries", true, 530, Dish.Type.OTHER), new Dish("rice", true, 350, Dish.Type.OTHER), new Dish("season fruit", true, 120, Dish.Type.OTHER), new Dish("pizza", true, 550, Dish.Type.OTHER), new Dish("prawns", false, 300, Dish.Type.FISH), new Dish("salmon", false, 450, Dish.Type.FISH)); 范例：
1、averagingDouble 求平均值 public static void testAveragingDouble(){ System.out.println("testAveragingDouble"); //用reduce聚合求和 Optional.ofNullable(menu.stream().map(Dish::getCalories).reduce(Integer::sum)).get().ifPresent(System.out::println); //用collectors averagingDouble求平均值 Optional.ofNullable(menu.stream().collect(averagingDouble(Dish::getCalories))).ifPresent(System.out::println); } 输出结果：</p><footer class=post-footer><a class=read-more href=https://willxwu.github.io/post/java8/10_java8-collectors-api-averagingcollectingandthencountinggroupingby/>Read More →</a></footer></article><footer class=list-footer><nav class=pagination><h3 class=offscreen>Pagination</h3><a class=pagination-previous href=https://willxwu.github.io/post/>← Newer Posts</a>
<a class=pagination-next href=https://willxwu.github.io/post/page/3/>Older Posts →</a></nav></footer></section><footer class=site-footer><p>© 2017-2023 Come Back</p><p>Powered by <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> with theme <a href=https://github.com/laozhu/hugo-nuo target=_blank rel=noopener>Nuo</a>.</p></footer><script src=https://cdn.jsdelivr.net/npm/smooth-scroll@15.0.0/dist/smooth-scroll.min.js></script>
<script src=https://willxwu.github.io/scripts/index.min.js></script>
<script>"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js").then(function(){console.log("[ServiceWorker] Registered")})</script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-XXXXXXXX-X","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></body></html>